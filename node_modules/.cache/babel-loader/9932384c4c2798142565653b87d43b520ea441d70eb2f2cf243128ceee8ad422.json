{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andrey\\\\Downloads\\\\pong_canvas_app\\\\src\\\\Pong.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Pong = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const [ballSpeedX, setBallSpeedX] = useState(4);\n  const [ballSpeedY, setBallSpeedY] = useState(4);\n  const [ballPosX, setBallPosX] = useState(50);\n  const [ballPosY, setBallPosY] = useState(50);\n  const [paddle1Y, setPaddle1Y] = useState(150);\n  const [paddle2Y, setPaddle2Y] = useState(150);\n  const [score1, setScore1] = useState(0);\n  const [score2, setScore2] = useState(0);\n  const paddleHeight = 100;\n  const paddleSpeed = 30;\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const interval = setInterval(updateGame, 1000 / 60); // 60 FPS\n\n    function updateGame() {\n      moveBall();\n      detectCollisions();\n      draw();\n    }\n    function moveBall() {\n      if (ballPosX + ballSpeedX > canvas.width || ballPosX + ballSpeedX < 0) {\n        if (ballPosX + ballSpeedX > canvas.width) {\n          setScore1(prev => prev + 1);\n        } else {\n          setScore2(prev => prev + 1);\n        }\n        setBallSpeedX(prev => -prev);\n      }\n      if (ballPosY + ballSpeedY > canvas.height || ballPosY + ballSpeedY < 0) {\n        setBallSpeedY(prev => -prev);\n      }\n      setBallPosX(prev => prev + ballSpeedX);\n      setBallPosY(prev => prev + ballSpeedY);\n    }\n    function detectCollisions() {\n      if (ballPosX < 10 && ballPosY > paddle1Y && ballPosY < paddle1Y + paddleHeight) {\n        setBallSpeedX(prev => -prev);\n      }\n      if (ballPosX > canvas.width - 10 && ballPosY > paddle2Y && ballPosY < paddle2Y + paddleHeight) {\n        setBallSpeedX(prev => -prev);\n      }\n    }\n    function draw() {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      // Draw ball\n      ctx.beginPath();\n      ctx.arc(ballPosX, ballPosY, 10, 0, Math.PI * 2);\n      ctx.fill();\n\n      // Draw paddles\n      ctx.fillStyle = 'white';\n      ctx.fillRect(0, paddle1Y, 10, paddleHeight); // Left paddle\n      ctx.fillRect(canvas.width - 10, paddle2Y, 10, paddleHeight); // Right paddle\n\n      // Draw scores\n      ctx.font = '30px Arial';\n      ctx.fillText(score1, canvas.width / 4, 30);\n      ctx.fillText(score2, canvas.width / 4 * 3, 30);\n    }\n    function movePaddle(event) {\n      if (event.key === 'ArrowUp' && paddle2Y > 0) {\n        setPaddle2Y(prev => prev - paddleSpeed);\n      }\n      if (event.key === 'ArrowDown' && paddle2Y + paddleHeight < canvas.height) {\n        setPaddle2Y(prev => prev + paddleSpeed);\n      }\n      if (event.key === 'w' && paddle1Y > 0) {\n        setPaddle1Y(prev => prev - paddleSpeed);\n      }\n      if (event.key === 's' && paddle1Y + paddleHeight < canvas.height) {\n        setPaddle1Y(prev => prev + paddleSpeed);\n      }\n    }\n    window.addEventListener('keydown', movePaddle);\n    return () => {\n      clearInterval(interval);\n      window.removeEventListener('keydown', movePaddle);\n    };\n  }, [ballPosX, ballPosY, ballSpeedX, ballSpeedY, paddle1Y, paddle2Y, score1, score2]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: \"800\",\n      height: \"600\",\n      tabIndex: \"0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n_s(Pong, \"vMK+MqMdqf84MMl351gU0zpVjL8=\");\n_c = Pong;\nexport default Pong;\nvar _c;\n$RefreshReg$(_c, \"Pong\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","Pong","_s","canvasRef","ballSpeedX","setBallSpeedX","ballSpeedY","setBallSpeedY","ballPosX","setBallPosX","ballPosY","setBallPosY","paddle1Y","setPaddle1Y","paddle2Y","setPaddle2Y","score1","setScore1","score2","setScore2","paddleHeight","paddleSpeed","canvas","current","ctx","getContext","interval","setInterval","updateGame","moveBall","detectCollisions","draw","width","prev","height","clearRect","beginPath","arc","Math","PI","fill","fillStyle","fillRect","font","fillText","movePaddle","event","key","window","addEventListener","clearInterval","removeEventListener","children","ref","tabIndex","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Andrey/Downloads/pong_canvas_app/src/Pong.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\n\r\nconst Pong = () => {\r\n  const canvasRef = useRef(null);\r\n  const [ballSpeedX, setBallSpeedX] = useState(4);\r\n  const [ballSpeedY, setBallSpeedY] = useState(4);\r\n  const [ballPosX, setBallPosX] = useState(50);\r\n  const [ballPosY, setBallPosY] = useState(50);\r\n  const [paddle1Y, setPaddle1Y] = useState(150);\r\n  const [paddle2Y, setPaddle2Y] = useState(150);\r\n  const [score1, setScore1] = useState(0);\r\n  const [score2, setScore2] = useState(0);\r\n\r\n  const paddleHeight = 100;\r\n  const paddleSpeed = 30;\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const interval = setInterval(updateGame, 1000 / 60); // 60 FPS\r\n\r\n    function updateGame() {\r\n      moveBall();\r\n      detectCollisions();\r\n      draw();\r\n    }\r\n\r\n    function moveBall() {\r\n      if (ballPosX + ballSpeedX > canvas.width || ballPosX + ballSpeedX < 0) {\r\n        if (ballPosX + ballSpeedX > canvas.width) {\r\n          setScore1(prev => prev + 1);\r\n        } else {\r\n          setScore2(prev => prev + 1);\r\n        }\r\n        setBallSpeedX(prev => -prev);\r\n      }\r\n\r\n      if (ballPosY + ballSpeedY > canvas.height || ballPosY + ballSpeedY < 0) {\r\n        setBallSpeedY(prev => -prev);\r\n      }\r\n\r\n      setBallPosX(prev => prev + ballSpeedX);\r\n      setBallPosY(prev => prev + ballSpeedY);\r\n    }\r\n\r\n    function detectCollisions() {\r\n      if (\r\n        ballPosX < 10 &&\r\n        ballPosY > paddle1Y &&\r\n        ballPosY < paddle1Y + paddleHeight\r\n      ) {\r\n        setBallSpeedX(prev => -prev);\r\n      }\r\n\r\n      if (\r\n        ballPosX > canvas.width - 10 &&\r\n        ballPosY > paddle2Y &&\r\n        ballPosY < paddle2Y + paddleHeight\r\n      ) {\r\n        setBallSpeedX(prev => -prev);\r\n      }\r\n    }\r\n\r\n    function draw() {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n      // Draw ball\r\n      ctx.beginPath();\r\n      ctx.arc(ballPosX, ballPosY, 10, 0, Math.PI * 2);\r\n      ctx.fill();\r\n\r\n      // Draw paddles\r\n      ctx.fillStyle = 'white';\r\n      ctx.fillRect(0, paddle1Y, 10, paddleHeight); // Left paddle\r\n      ctx.fillRect(canvas.width - 10, paddle2Y, 10, paddleHeight); // Right paddle\r\n\r\n      // Draw scores\r\n      ctx.font = '30px Arial';\r\n      ctx.fillText(score1, canvas.width / 4, 30);\r\n      ctx.fillText(score2, (canvas.width / 4) * 3, 30);\r\n    }\r\n\r\n    function movePaddle(event) {\r\n      if (event.key === 'ArrowUp' && paddle2Y > 0) {\r\n        setPaddle2Y(prev => prev - paddleSpeed);\r\n      }\r\n      if (event.key === 'ArrowDown' && paddle2Y + paddleHeight < canvas.height) {\r\n        setPaddle2Y(prev => prev + paddleSpeed);\r\n      }\r\n      if (event.key === 'w' && paddle1Y > 0) {\r\n        setPaddle1Y(prev => prev - paddleSpeed);\r\n      }\r\n      if (event.key === 's' && paddle1Y + paddleHeight < canvas.height) {\r\n        setPaddle1Y(prev => prev + paddleSpeed);\r\n      }\r\n    }\r\n\r\n    window.addEventListener('keydown', movePaddle);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n      window.removeEventListener('keydown', movePaddle);\r\n    };\r\n  }, [ballPosX, ballPosY, ballSpeedX, ballSpeedY, paddle1Y, paddle2Y, score1, score2]);\r\n\r\n  return (\r\n    <div>\r\n      <canvas ref={canvasRef} width=\"800\" height=\"600\" tabIndex=\"0\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pong;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}