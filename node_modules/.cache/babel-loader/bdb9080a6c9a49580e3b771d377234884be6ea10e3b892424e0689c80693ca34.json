{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andrey\\\\Downloads\\\\pong_canvas_app\\\\src\\\\Pong.js\";\nimport React from 'react';\nimport { createAssistant, createSmartappDebugger } from '@salutejs/client';\nimport './Pong.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CANVAS_WIDTH = 800;\nconst CANVAS_HEIGHT = 500;\nconst PADDLE_WIDTH = 15;\nconst PADDLE_HEIGHT = 100;\nconst BALL_SIZE = 15;\nconst PADDLE_SPEED = 8;\nconst BALL_SPEED = 5;\nconst initializeAssistant = (getState, getRecoveryState) => {\n  if (process.env.NODE_ENV === 'development') {\n    var _process$env$REACT_AP;\n    return createSmartappDebugger({\n      token: (_process$env$REACT_AP = process.env.REACT_APP_TOKEN) !== null && _process$env$REACT_AP !== void 0 ? _process$env$REACT_AP : '',\n      initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\n      getState,\n      nativePanel: {\n        defaultText: '',\n        screenshotMode: false,\n        tabIndex: -1\n      }\n    });\n  } else {\n    return createAssistant({\n      getState\n    });\n  }\n};\nexport default class Pong extends React.Component {\n  constructor(props) {\n    super(props);\n    this.startGame = () => {\n      if (!this.state.gameStarted) {\n        this.setState({\n          gameStarted: true,\n          ballX: CANVAS_WIDTH / 2,\n          ballY: CANVAS_HEIGHT / 2,\n          ballSpeedX: Math.random() > 0.5 ? BALL_SPEED : -BALL_SPEED,\n          ballSpeedY: Math.random() * BALL_SPEED * 2 - BALL_SPEED\n        }, () => {\n          this.gameLoop();\n        });\n      }\n    };\n    this.resetBall = () => {\n      this.setState({\n        ballX: CANVAS_WIDTH / 2,\n        ballY: CANVAS_HEIGHT / 2,\n        ballSpeedX: Math.random() > 0.5 ? BALL_SPEED : -BALL_SPEED,\n        ballSpeedY: Math.random() * BALL_SPEED * 2 - BALL_SPEED,\n        gameStarted: false\n      });\n    };\n    this.gameLoop = () => {\n      if (!this.state.gameStarted) return;\n\n      // Move ball\n      let newBallX = this.state.ballX + this.state.ballSpeedX;\n      let newBallY = this.state.ballY + this.state.ballSpeedY;\n      let newBallSpeedX = this.state.ballSpeedX;\n      let newBallSpeedY = this.state.ballSpeedY;\n      let newPlayer1Score = this.state.player1Score;\n      let newPlayer2Score = this.state.player2Score;\n\n      // Ball collision with top and bottom\n      if (newBallY <= 0 || newBallY >= CANVAS_HEIGHT - BALL_SIZE) {\n        newBallSpeedY = -newBallSpeedY;\n      }\n\n      // Ball collision with paddles\n      // Player 1 paddle\n      if (newBallX <= PADDLE_WIDTH && newBallX >= 0 && newBallY + BALL_SIZE >= this.state.player1Y && newBallY <= this.state.player1Y + PADDLE_HEIGHT) {\n        newBallSpeedX = -newBallSpeedX * 1.05;\n        const hitPosition = (newBallY - this.state.player1Y) / PADDLE_HEIGHT;\n        newBallSpeedY = (hitPosition - 0.5) * 10;\n      }\n\n      // Player 2 paddle\n      if (newBallX >= CANVAS_WIDTH - PADDLE_WIDTH - BALL_SIZE && newBallX <= CANVAS_WIDTH && newBallY + BALL_SIZE >= this.state.player2Y && newBallY <= this.state.player2Y + PADDLE_HEIGHT) {\n        newBallSpeedX = -newBallSpeedX * 1.05;\n        const hitPosition = (newBallY - this.state.player2Y) / PADDLE_HEIGHT;\n        newBallSpeedY = (hitPosition - 0.5) * 10;\n      }\n\n      // Ball out of bounds - score points\n      if (newBallX < 0) {\n        newPlayer2Score += 1;\n        this.setState({\n          player2Score: newPlayer2Score\n        }, this.resetBall);\n        return;\n      }\n      if (newBallX > CANVAS_WIDTH) {\n        newPlayer1Score += 1;\n        this.setState({\n          player1Score: newPlayer1Score\n        }, this.resetBall);\n        return;\n      }\n\n      // Update state\n      this.setState({\n        ballX: newBallX,\n        ballY: newBallY,\n        ballSpeedX: newBallSpeedX,\n        ballSpeedY: newBallSpeedY\n      }, () => {\n        this.updatePaddles();\n        this.animationFrameId = requestAnimationFrame(this.gameLoop);\n      });\n    };\n    this.draw = () => {\n      const canvas = this.canvasRef.current;\n      if (!canvas) return;\n      const ctx = canvas.getContext('2d');\n\n      // Clear canvas\n      ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n      // Draw background\n      ctx.fillStyle = 'black';\n      ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n      // Draw center line\n      ctx.strokeStyle = 'white';\n      ctx.setLineDash([10, 10]);\n      ctx.beginPath();\n      ctx.moveTo(CANVAS_WIDTH / 2, 0);\n      ctx.lineTo(CANVAS_WIDTH / 2, CANVAS_HEIGHT);\n      ctx.stroke();\n      ctx.setLineDash([]);\n\n      // Draw paddles\n      ctx.fillStyle = 'white';\n      ctx.fillRect(0, this.state.player1Y, PADDLE_WIDTH, PADDLE_HEIGHT);\n      ctx.fillRect(CANVAS_WIDTH - PADDLE_WIDTH, this.state.player2Y, PADDLE_WIDTH, PADDLE_HEIGHT);\n\n      // Draw ball\n      ctx.fillRect(this.state.ballX, this.state.ballY, BALL_SIZE, BALL_SIZE);\n\n      // Draw scores\n      ctx.font = '48px Arial';\n      ctx.textAlign = 'center';\n      ctx.fillText(this.state.player1Score.toString(), CANVAS_WIDTH / 4, 50);\n      ctx.fillText(this.state.player2Score.toString(), CANVAS_WIDTH / 4 * 3, 50);\n\n      // Draw start message if game not started\n      if (!this.state.gameStarted) {\n        ctx.font = '24px Arial';\n        ctx.fillText('Press SPACE to start', CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2);\n      }\n      this.animationFrameId = requestAnimationFrame(this.draw);\n    };\n    this.state = {\n      player1Y: CANVAS_HEIGHT / 2 - PADDLE_HEIGHT / 2,\n      player2Y: CANVAS_HEIGHT / 2 - PADDLE_HEIGHT / 2,\n      ballX: CANVAS_WIDTH / 2,\n      ballY: CANVAS_HEIGHT / 2,\n      ballSpeedX: BALL_SPEED,\n      ballSpeedY: BALL_SPEED,\n      player1Score: 0,\n      player2Score: 0,\n      gameStarted: false,\n      showHelpModal: true,\n      keys: {\n        player1Up: false,\n        player1Down: false,\n        player2Up: false,\n        player2Down: false\n      }\n    };\n    this.canvasRef = /*#__PURE__*/React.createRef();\n    this.animationFrameId = null;\n\n    // Привязка методов\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n    this.showHelp = this.showHelp.bind(this);\n    this.closeHelp = this.closeHelp.bind(this);\n    this.assistant = initializeAssistant(() => this.getStateForAssistant());\n    this.assistant.on('data', event => {\n      var _event$navigation;\n      console.log(`assistant.on(data)`, event);\n      if (event.type === 'character') {\n        var _event$character;\n        console.log(`assistant.on(data): character: \"${event === null || event === void 0 ? void 0 : (_event$character = event.character) === null || _event$character === void 0 ? void 0 : _event$character.id}\"`);\n      } else if (event.type === 'insets') {\n        console.log(`assistant.on(data): insets`);\n      } else if (event.type === 'navigation' && (_event$navigation = event.navigation) !== null && _event$navigation !== void 0 && _event$navigation.command) {\n        const navCommand = event.navigation.command.toLowerCase();\n        this.dispatchAssistantAction({\n          type: navCommand\n        });\n      } else {\n        const {\n          action\n        } = event;\n        this.dispatchAssistantAction(action);\n      }\n    });\n  }\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n    this.draw();\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n    cancelAnimationFrame(this.animationFrameId);\n  }\n  getStateForAssistant() {\n    return {\n      pong_game: {\n        player1Score: this.state.player1Score,\n        player2Score: this.state.player2Score,\n        gameStarted: this.state.gameStarted\n      }\n    };\n  }\n  handleKeyDown(e) {\n    const {\n      keys\n    } = this.state;\n    if (e.key === 'w' || e.key === 'W') {\n      this.setState({\n        keys: {\n          ...keys,\n          player1Up: true\n        }\n      });\n    } else if (e.key === 's' || e.key === 'S') {\n      this.setState({\n        keys: {\n          ...keys,\n          player1Down: true\n        }\n      });\n    }\n    if (e.key === 'ArrowUp') {\n      this.setState({\n        keys: {\n          ...keys,\n          player2Up: true\n        }\n      });\n    } else if (e.key === 'ArrowDown') {\n      this.setState({\n        keys: {\n          ...keys,\n          player2Down: true\n        }\n      });\n    }\n    if (e.key === ' ') {\n      this.startGame();\n    }\n    if (e.key === 'h' || e.key === 'H') {\n      this.showHelp();\n    }\n  }\n  handleKeyUp(e) {\n    const {\n      keys\n    } = this.state;\n    if (e.key === 'w' || e.key === 'W') {\n      this.setState({\n        keys: {\n          ...keys,\n          player1Up: false\n        }\n      });\n    } else if (e.key === 's' || e.key === 'S') {\n      this.setState({\n        keys: {\n          ...keys,\n          player1Down: false\n        }\n      });\n    }\n    if (e.key === 'ArrowUp') {\n      this.setState({\n        keys: {\n          ...keys,\n          player2Up: false\n        }\n      });\n    } else if (e.key === 'ArrowDown') {\n      this.setState({\n        keys: {\n          ...keys,\n          player2Down: false\n        }\n      });\n    }\n  }\n  updatePaddles() {\n    const {\n      keys\n    } = this.state;\n    this.setState(prevState => ({\n      player1Y: keys.player1Up ? Math.max(0, prevState.player1Y - PADDLE_SPEED) : keys.player1Down ? Math.min(CANVAS_HEIGHT - PADDLE_HEIGHT, prevState.player1Y + PADDLE_SPEED) : prevState.player1Y,\n      player2Y: keys.player2Up ? Math.max(0, prevState.player2Y - PADDLE_SPEED) : keys.player2Down ? Math.min(CANVAS_HEIGHT - PADDLE_HEIGHT, prevState.player2Y + PADDLE_SPEED) : prevState.player2Y\n    }));\n  }\n  showHelp() {\n    this.setState({\n      showHelpModal: true\n    });\n  }\n  closeHelp() {\n    this.setState({\n      showHelpModal: false\n    });\n  }\n  dispatchAssistantAction(action) {\n    console.log('dispatchAssistantAction', action);\n    if (action) {\n      switch (action.type) {\n        case 'up':\n          this.setState(prevState => ({\n            player2Y: Math.max(0, prevState.player2Y - PADDLE_SPEED)\n          }));\n          break;\n        case 'down':\n          this.setState(prevState => ({\n            player2Y: Math.min(CANVAS_HEIGHT - PADDLE_HEIGHT, prevState.player2Y + PADDLE_SPEED)\n          }));\n          break;\n        case 'start':\n          this.startGame();\n          break;\n        case 'help':\n          this.showHelp();\n          break;\n        default:\n          console.log('Unknown action type:', action.type);\n      }\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pong-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Pong Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: this.canvasRef,\n        width: CANVAS_WIDTH,\n        height: CANVAS_HEIGHT,\n        className: \"pong-canvas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 17\n      }, this), this.state.showHelpModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-backdrop\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u041F\\u043E\\u043C\\u043E\\u0449\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            children: `🔹 Управление:\n— Игрок 1: W (вверх), S (вниз)\n— Игрок 2: Стрелки вверх/вниз\n— Начать игру: Пробел\n\n🔹 Голосовые команды:\n— \"вверх\", \"вниз\" - управление правой ракеткой\n— \"старт\" - начать игру\n— \"помощь\" - показать это сообщение\n\n🔹 Цель:\n— Отбивайте мяч ракеткой\n— Не пропускайте мяч за свою ракетку`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.closeHelp,\n            children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","createAssistant","createSmartappDebugger","jsxDEV","_jsxDEV","CANVAS_WIDTH","CANVAS_HEIGHT","PADDLE_WIDTH","PADDLE_HEIGHT","BALL_SIZE","PADDLE_SPEED","BALL_SPEED","initializeAssistant","getState","getRecoveryState","process","env","NODE_ENV","_process$env$REACT_AP","token","REACT_APP_TOKEN","initPhrase","REACT_APP_SMARTAPP","nativePanel","defaultText","screenshotMode","tabIndex","Pong","Component","constructor","props","startGame","state","gameStarted","setState","ballX","ballY","ballSpeedX","Math","random","ballSpeedY","gameLoop","resetBall","newBallX","newBallY","newBallSpeedX","newBallSpeedY","newPlayer1Score","player1Score","newPlayer2Score","player2Score","player1Y","hitPosition","player2Y","updatePaddles","animationFrameId","requestAnimationFrame","draw","canvas","canvasRef","current","ctx","getContext","clearRect","fillStyle","fillRect","strokeStyle","setLineDash","beginPath","moveTo","lineTo","stroke","font","textAlign","fillText","toString","showHelpModal","keys","player1Up","player1Down","player2Up","player2Down","createRef","handleKeyDown","bind","handleKeyUp","showHelp","closeHelp","assistant","getStateForAssistant","on","event","_event$navigation","console","log","type","_event$character","character","id","navigation","command","navCommand","toLowerCase","dispatchAssistantAction","action","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","cancelAnimationFrame","pong_game","e","key","prevState","max","min","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","width","height","onClick"],"sources":["C:/Users/Andrey/Downloads/pong_canvas_app/src/Pong.js"],"sourcesContent":["import React from 'react';\r\nimport { createAssistant, createSmartappDebugger } from '@salutejs/client';\r\nimport './Pong.css';\r\n\r\nconst CANVAS_WIDTH = 800;\r\nconst CANVAS_HEIGHT = 500;\r\nconst PADDLE_WIDTH = 15;\r\nconst PADDLE_HEIGHT = 100;\r\nconst BALL_SIZE = 15;\r\nconst PADDLE_SPEED = 8;\r\nconst BALL_SPEED = 5;\r\n\r\nconst initializeAssistant = (getState, getRecoveryState) => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n        return createSmartappDebugger({\r\n            token: process.env.REACT_APP_TOKEN ?? '',\r\n            initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\r\n            getState,\r\n            nativePanel: {\r\n                defaultText: '',\r\n                screenshotMode: false,\r\n                tabIndex: -1,\r\n            },\r\n        });\r\n    } else {\r\n        return createAssistant({ getState });\r\n    }\r\n};\r\n\r\nexport default class Pong extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            player1Y: CANVAS_HEIGHT / 2 - PADDLE_HEIGHT / 2,\r\n            player2Y: CANVAS_HEIGHT / 2 - PADDLE_HEIGHT / 2,\r\n            ballX: CANVAS_WIDTH / 2,\r\n            ballY: CANVAS_HEIGHT / 2,\r\n            ballSpeedX: BALL_SPEED,\r\n            ballSpeedY: BALL_SPEED,\r\n            player1Score: 0,\r\n            player2Score: 0,\r\n            gameStarted: false,\r\n            showHelpModal: true,\r\n            keys: {\r\n                player1Up: false,\r\n                player1Down: false,\r\n                player2Up: false,\r\n                player2Down: false,\r\n            },\r\n        };\r\n\r\n        this.canvasRef = React.createRef();\r\n        this.animationFrameId = null;\r\n\r\n        // Привязка методов\r\n        this.handleKeyDown = this.handleKeyDown.bind(this);\r\n        this.handleKeyUp = this.handleKeyUp.bind(this);\r\n        this.showHelp = this.showHelp.bind(this);\r\n        this.closeHelp = this.closeHelp.bind(this);\r\n\r\n        this.assistant = initializeAssistant(() => this.getStateForAssistant());\r\n\r\n        this.assistant.on('data', (event) => {\r\n            console.log(`assistant.on(data)`, event);\r\n            if (event.type === 'character') {\r\n                console.log(`assistant.on(data): character: \"${event?.character?.id}\"`);\r\n            } else if (event.type === 'insets') {\r\n                console.log(`assistant.on(data): insets`);\r\n            } else if (event.type === 'navigation' && event.navigation?.command) {\r\n                const navCommand = event.navigation.command.toLowerCase();\r\n                this.dispatchAssistantAction({ type: navCommand });\r\n            } else {\r\n                const { action } = event;\r\n                this.dispatchAssistantAction(action);\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n        window.addEventListener('keyup', this.handleKeyUp);\r\n        this.draw();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n        window.removeEventListener('keyup', this.handleKeyUp);\r\n        cancelAnimationFrame(this.animationFrameId);\r\n    }\r\n\r\n    getStateForAssistant() {\r\n        return {\r\n            pong_game: {\r\n                player1Score: this.state.player1Score,\r\n                player2Score: this.state.player2Score,\r\n                gameStarted: this.state.gameStarted,\r\n            },\r\n        };\r\n    }\r\n\r\n    startGame = () => {\r\n        if (!this.state.gameStarted) {\r\n            this.setState({\r\n                gameStarted: true,\r\n                ballX: CANVAS_WIDTH / 2,\r\n                ballY: CANVAS_HEIGHT / 2,\r\n                ballSpeedX: Math.random() > 0.5 ? BALL_SPEED : -BALL_SPEED,\r\n                ballSpeedY: Math.random() * BALL_SPEED * 2 - BALL_SPEED,\r\n            }, () => {\r\n                this.gameLoop();\r\n            });\r\n        }\r\n    };\r\n\r\n    resetBall = () => {\r\n        this.setState({\r\n            ballX: CANVAS_WIDTH / 2,\r\n            ballY: CANVAS_HEIGHT / 2,\r\n            ballSpeedX: Math.random() > 0.5 ? BALL_SPEED : -BALL_SPEED,\r\n            ballSpeedY: Math.random() * BALL_SPEED * 2 - BALL_SPEED,\r\n            gameStarted: false,\r\n        });\r\n    };\r\n\r\n    gameLoop = () => {\r\n        if (!this.state.gameStarted) return;\r\n\r\n        // Move ball\r\n        let newBallX = this.state.ballX + this.state.ballSpeedX;\r\n        let newBallY = this.state.ballY + this.state.ballSpeedY;\r\n        let newBallSpeedX = this.state.ballSpeedX;\r\n        let newBallSpeedY = this.state.ballSpeedY;\r\n        let newPlayer1Score = this.state.player1Score;\r\n        let newPlayer2Score = this.state.player2Score;\r\n\r\n        // Ball collision with top and bottom\r\n        if (newBallY <= 0 || newBallY >= CANVAS_HEIGHT - BALL_SIZE) {\r\n            newBallSpeedY = -newBallSpeedY;\r\n        }\r\n\r\n        // Ball collision with paddles\r\n        // Player 1 paddle\r\n        if (\r\n            newBallX <= PADDLE_WIDTH &&\r\n            newBallX >= 0 &&\r\n            newBallY + BALL_SIZE >= this.state.player1Y &&\r\n            newBallY <= this.state.player1Y + PADDLE_HEIGHT\r\n        ) {\r\n            newBallSpeedX = -newBallSpeedX * 1.05;\r\n            const hitPosition = (newBallY - this.state.player1Y) / PADDLE_HEIGHT;\r\n            newBallSpeedY = (hitPosition - 0.5) * 10;\r\n        }\r\n\r\n        // Player 2 paddle\r\n        if (\r\n            newBallX >= CANVAS_WIDTH - PADDLE_WIDTH - BALL_SIZE &&\r\n            newBallX <= CANVAS_WIDTH &&\r\n            newBallY + BALL_SIZE >= this.state.player2Y &&\r\n            newBallY <= this.state.player2Y + PADDLE_HEIGHT\r\n        ) {\r\n            newBallSpeedX = -newBallSpeedX * 1.05;\r\n            const hitPosition = (newBallY - this.state.player2Y) / PADDLE_HEIGHT;\r\n            newBallSpeedY = (hitPosition - 0.5) * 10;\r\n        }\r\n\r\n        // Ball out of bounds - score points\r\n        if (newBallX < 0) {\r\n            newPlayer2Score += 1;\r\n            this.setState({\r\n                player2Score: newPlayer2Score,\r\n            }, this.resetBall);\r\n            return;\r\n        }\r\n\r\n        if (newBallX > CANVAS_WIDTH) {\r\n            newPlayer1Score += 1;\r\n            this.setState({\r\n                player1Score: newPlayer1Score,\r\n            }, this.resetBall);\r\n            return;\r\n        }\r\n\r\n        // Update state\r\n        this.setState({\r\n            ballX: newBallX,\r\n            ballY: newBallY,\r\n            ballSpeedX: newBallSpeedX,\r\n            ballSpeedY: newBallSpeedY,\r\n        }, () => {\r\n            this.updatePaddles();\r\n            this.animationFrameId = requestAnimationFrame(this.gameLoop);\r\n        });\r\n    };\r\n\r\n    draw = () => {\r\n        const canvas = this.canvasRef.current;\r\n        if (!canvas) return;\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        \r\n        // Clear canvas\r\n        ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n        \r\n        // Draw background\r\n        ctx.fillStyle = 'black';\r\n        ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n        \r\n        // Draw center line\r\n        ctx.strokeStyle = 'white';\r\n        ctx.setLineDash([10, 10]);\r\n        ctx.beginPath();\r\n        ctx.moveTo(CANVAS_WIDTH / 2, 0);\r\n        ctx.lineTo(CANVAS_WIDTH / 2, CANVAS_HEIGHT);\r\n        ctx.stroke();\r\n        ctx.setLineDash([]);\r\n        \r\n        // Draw paddles\r\n        ctx.fillStyle = 'white';\r\n        ctx.fillRect(0, this.state.player1Y, PADDLE_WIDTH, PADDLE_HEIGHT);\r\n        ctx.fillRect(CANVAS_WIDTH - PADDLE_WIDTH, this.state.player2Y, PADDLE_WIDTH, PADDLE_HEIGHT);\r\n        \r\n        // Draw ball\r\n        ctx.fillRect(this.state.ballX, this.state.ballY, BALL_SIZE, BALL_SIZE);\r\n        \r\n        // Draw scores\r\n        ctx.font = '48px Arial';\r\n        ctx.textAlign = 'center';\r\n        ctx.fillText(this.state.player1Score.toString(), CANVAS_WIDTH / 4, 50);\r\n        ctx.fillText(this.state.player2Score.toString(), (CANVAS_WIDTH / 4) * 3, 50);\r\n        \r\n        // Draw start message if game not started\r\n        if (!this.state.gameStarted) {\r\n            ctx.font = '24px Arial';\r\n            ctx.fillText('Press SPACE to start', CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2);\r\n        }\r\n        \r\n        this.animationFrameId = requestAnimationFrame(this.draw);\r\n    };\r\n\r\n    handleKeyDown(e) {\r\n        const { keys } = this.state;\r\n        \r\n        if (e.key === 'w' || e.key === 'W') {\r\n            this.setState({ keys: { ...keys, player1Up: true } });\r\n        } else if (e.key === 's' || e.key === 'S') {\r\n            this.setState({ keys: { ...keys, player1Down: true } });\r\n        }\r\n        \r\n        if (e.key === 'ArrowUp') {\r\n            this.setState({ keys: { ...keys, player2Up: true } });\r\n        } else if (e.key === 'ArrowDown') {\r\n            this.setState({ keys: { ...keys, player2Down: true } });\r\n        }\r\n        \r\n        if (e.key === ' ') {\r\n            this.startGame();\r\n        }\r\n        \r\n        if (e.key === 'h' || e.key === 'H') {\r\n            this.showHelp();\r\n        }\r\n    }\r\n\r\n    handleKeyUp(e) {\r\n        const { keys } = this.state;\r\n\r\n        if (e.key === 'w' || e.key === 'W') {\r\n            this.setState({ keys: { ...keys, player1Up: false } });\r\n        } else if (e.key === 's' || e.key === 'S') {\r\n            this.setState({ keys: { ...keys, player1Down: false } });\r\n        }\r\n        \r\n        if (e.key === 'ArrowUp') {\r\n            this.setState({ keys: { ...keys, player2Up: false } });\r\n        } else if (e.key === 'ArrowDown') {\r\n            this.setState({ keys: { ...keys, player2Down: false } });\r\n        }\r\n    }\r\n\r\n    updatePaddles() {\r\n        const { keys } = this.state;\r\n        \r\n        this.setState(prevState => ({\r\n            player1Y: keys.player1Up \r\n                ? Math.max(0, prevState.player1Y - PADDLE_SPEED) \r\n                : (keys.player1Down \r\n                    ? Math.min(CANVAS_HEIGHT - PADDLE_HEIGHT, prevState.player1Y + PADDLE_SPEED) \r\n                    : prevState.player1Y),\r\n            player2Y: keys.player2Up \r\n                ? Math.max(0, prevState.player2Y - PADDLE_SPEED) \r\n                : (keys.player2Down \r\n                    ? Math.min(CANVAS_HEIGHT - PADDLE_HEIGHT, prevState.player2Y + PADDLE_SPEED) \r\n                    : prevState.player2Y),\r\n        }));\r\n    }\r\n\r\n    showHelp() {\r\n        this.setState({ showHelpModal: true });\r\n    }\r\n\r\n    closeHelp() {\r\n        this.setState({ showHelpModal: false });\r\n    }\r\n\r\n    dispatchAssistantAction(action) {\r\n        console.log('dispatchAssistantAction', action);\r\n        if (action) {\r\n            switch (action.type) {\r\n                case 'up':\r\n                    this.setState(prevState => ({\r\n                        player2Y: Math.max(0, prevState.player2Y - PADDLE_SPEED)\r\n                    }));\r\n                    break;\r\n                case 'down':\r\n                    this.setState(prevState => ({\r\n                        player2Y: Math.min(CANVAS_HEIGHT - PADDLE_HEIGHT, prevState.player2Y + PADDLE_SPEED)\r\n                    }));\r\n                    break;\r\n                case 'start':\r\n                    this.startGame();\r\n                    break;\r\n                case 'help':\r\n                    this.showHelp();\r\n                    break;\r\n                default:\r\n                    console.log('Unknown action type:', action.type);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"pong-container\">\r\n                <h1>Pong Game</h1>\r\n                <canvas\r\n                    ref={this.canvasRef}\r\n                    width={CANVAS_WIDTH}\r\n                    height={CANVAS_HEIGHT}\r\n                    className=\"pong-canvas\"\r\n                />\r\n                \r\n                {this.state.showHelpModal && (\r\n                    <div className=\"modal-backdrop\">\r\n                        <div className=\"modal-content\">\r\n                            <h2>Помощь</h2>\r\n                            <pre>\r\n                                {`🔹 Управление:\r\n— Игрок 1: W (вверх), S (вниз)\r\n— Игрок 2: Стрелки вверх/вниз\r\n— Начать игру: Пробел\r\n\r\n🔹 Голосовые команды:\r\n— \"вверх\", \"вниз\" - управление правой ракеткой\r\n— \"старт\" - начать игру\r\n— \"помощь\" - показать это сообщение\r\n\r\n🔹 Цель:\r\n— Отбивайте мяч ракеткой\r\n— Не пропускайте мяч за свою ракетку`}\r\n                            </pre>\r\n                            <button onClick={this.closeHelp}>Закрыть</button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}